<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    div {
      width: 100px;
      height: 100px;
      position: absolute;
      left: 0;
      background-color: aqua;
    }
    a {
      text-decoration: none;
      color: coral;
      position: absolute;
      top: 110px;
    }
    #btn1 {
      position: absolute;
      top: 150px;
      display: block;
    }
    #btn2 {
      position: absolute;
      top: 180px;
      display: block;
    }
  </style>
  <body>
    <div></div>
    <a href="">1234</a>
    <button id="btn1">400</button>
    <button id="btn2">600</button>
  </body>
  <script>
    //每次移动的步长=(目标值-现在位置)/10
    function animate(obj, target, callback) {
      clearInterval(obj.timer);
      obj.timer = setInterval(function () {
        var step = (target - obj.offsetLeft) / 10;
        step = step > 0 ? Math.ceil(step) : Math.floor(step);
        //整数
        if (obj.offsetLeft == target) {
          clearInterval(obj.timer);
          if (callback) {
            callback();
          }
        } else {
          obj.style.left = obj.offsetLeft + step + "px";
        }
      }, 10);
    }

    var btn1 = document.querySelector("#btn1");
    var btn2 = document.querySelector("#btn2");

    var div = document.querySelector("div");
    var a = document.querySelector("a");
    btn1.addEventListener("click", function () {
      animate(div, 400, function () {
        div.style.backgroundColor = "aqua";
      });
    });
    btn2.addEventListener("click", function () {
      animate(div, 600, function () {
        div.style.backgroundColor = "pink";
      });
    });
    animate(a, 600);
  </script>
</html>
